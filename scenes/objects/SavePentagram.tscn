[gd_scene load_steps=21 format=3 uid="uid://d5c521aa3qnk"]

[ext_resource type="Texture2D" uid="uid://c3dsfony8ljku" path="res://assets/textures/general/pentagramdecal.png" id="1"]
[ext_resource type="Texture2D" uid="uid://jcbpgsirqmer" path="res://assets/3D models/torch/Smoke30Frames_0.png" id="2"]
[ext_resource type="Texture2D" uid="uid://bnva7iyeyhmim" path="res://assets/3D models/candle/Candle_lp_Candle_BaseColor.png" id="4"]
[ext_resource type="Texture2D" uid="uid://bkurjp2f7ofo3" path="res://assets/3D models/candle/Candle_lp_Candle_Normal.png" id="5"]
[ext_resource type="Texture2D" uid="uid://b0gcbkdg3fju5" path="res://assets/3D models/candle/Candle_lp_Candle_Roughness.png" id="6"]
[ext_resource type="ArrayMesh" uid="uid://c5ilhaqk0svu3" path="res://assets/3D models/candle/uploads_files_917228_Candle_lp.OBJ" id="7"]
[ext_resource type="Script" path="res://interactable/InteractableSavePentagram.gd" id="8"]
[ext_resource type="Gradient" path="res://assets/3D models/candle/Candle.tres" id="8_egsct"]
[ext_resource type="AudioStream" uid="uid://ci60l8k5pv8rf" path="res://assets/audio/misc/Saved.ogg" id="9"]
[ext_resource type="Texture2D" uid="uid://cgd51s6cysrlo" path="res://assets/textures/general/pentagramdecal_n.png" id="10"]

[sub_resource type="QuadMesh" id="1"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ohwu1"]
transparency = 1
albedo_texture = ExtResource("1")
normal_enabled = true
normal_scale = -1.0
normal_texture = ExtResource("10")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tnvsi"]
albedo_texture = ExtResource("4")
roughness_texture = ExtResource("6")
normal_enabled = true
normal_texture = ExtResource("5")

[sub_resource type="GradientTexture2D" id="7"]
gradient = ExtResource("8_egsct")

[sub_resource type="Curve" id="Curve_u8isy"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.17037, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.118182), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_vu1m3"]
curve = SubResource("Curve_u8isy")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_gou5e"]
emission_shape = 1
emission_sphere_radius = 0.27
direction = Vector3(0, 1, 0)
spread = 0.0
gravity = Vector3(0, 0.66, 0)
scale_curve = SubResource("CurveTexture_vu1m3")
color_ramp = SubResource("7")

[sub_resource type="StandardMaterial3D" id="10"]
transparency = 1
blend_mode = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("2")
billboard_mode = 3
particles_anim_h_frames = 6
particles_anim_v_frames = 5
particles_anim_loop = true

[sub_resource type="QuadMesh" id="11"]
material = SubResource("10")
size = Vector2(0.565, 0.565)

[sub_resource type="SphereShape3D" id="13"]
radius = 2.02836

[node name="SavePentagram" type="StaticBody3D"]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 0, 0, 0)
collision_layer = 2
collision_mask = 0
script = ExtResource("8")

[node name="pentagram" type="MeshInstance3D" parent="."]
transform = Transform3D(5, 0, 0, 0, -2.18557e-07, 1, 0, -5, -4.37114e-08, 0, 0, 0)
mesh = SubResource("1")
surface_material_override/0 = SubResource("StandardMaterial3D_ohwu1")

[node name="candle" type="MeshInstance3D" parent="."]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 1.9, 0.2, -0.7)
mesh = ExtResource("7")
surface_material_override/0 = SubResource("StandardMaterial3D_tnvsi")

[node name="Particles" type="GPUParticles3D" parent="candle"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.5, 0)
amount = 4
lifetime = 0.79
randomness = 0.9
draw_order = 2
process_material = SubResource("ParticleProcessMaterial_gou5e")
draw_pass_1 = SubResource("11")

[node name="candle2" type="MeshInstance3D" parent="."]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, -1.9, 0.2, -0.6)
mesh = ExtResource("7")
surface_material_override/0 = SubResource("StandardMaterial3D_tnvsi")

[node name="Particles" type="GPUParticles3D" parent="candle2"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.5, 0)
amount = 4
lifetime = 0.79
randomness = 0.9
draw_order = 2
process_material = SubResource("ParticleProcessMaterial_gou5e")
draw_pass_1 = SubResource("11")

[node name="candle3" type="MeshInstance3D" parent="."]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, -0.1, 0.2, -1.9)
mesh = ExtResource("7")
surface_material_override/0 = SubResource("StandardMaterial3D_tnvsi")

[node name="Particles" type="GPUParticles3D" parent="candle3"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.5, 0)
amount = 4
lifetime = 0.79
randomness = 0.9
draw_order = 2
process_material = SubResource("ParticleProcessMaterial_gou5e")
draw_pass_1 = SubResource("11")

[node name="candle4" type="MeshInstance3D" parent="."]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 1.1, 0.2, 1.6)
mesh = ExtResource("7")
surface_material_override/0 = SubResource("StandardMaterial3D_tnvsi")

[node name="Particles" type="GPUParticles3D" parent="candle4"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.5, 0)
amount = 4
lifetime = 0.79
randomness = 0.9
draw_order = 2
process_material = SubResource("ParticleProcessMaterial_gou5e")
draw_pass_1 = SubResource("11")

[node name="candle5" type="MeshInstance3D" parent="."]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, -1.3, 0.2, 1.6)
mesh = ExtResource("7")
surface_material_override/0 = SubResource("StandardMaterial3D_tnvsi")

[node name="Particles" type="GPUParticles3D" parent="candle5"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.5, 0)
amount = 4
lifetime = 0.79
randomness = 0.9
draw_order = 2
process_material = SubResource("ParticleProcessMaterial_gou5e")
draw_pass_1 = SubResource("11")

[node name="SaveSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("9")
volume_db = -5.0
bus = &"SfxBus"

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.023886, -0.838557, -0.0262084)
shape = SubResource("13")
